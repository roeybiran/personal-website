---
import { getEntry } from "astro:content";
import AppLayout from "../../../layouts/AppLayout.astro";
import { extractAppNameFromURL } from "../../../utils/extractAppNameFromURL";
import Fallback from "../../../components/Fallback.astro";

const url = Astro.request.url;
const slug = extractAppNameFromURL(url);
const entry = await getEntry("apps", slug);
if (!entry) {
  return Astro.redirect("/404");
}

const content = (await getEntry("help", slug))?.rendered?.html;
---

<AppLayout entry={entry} pageTitle="Help" currentURL={url}>
  <div class="content-help | padded prose layout" set:html={content}>
    {content ? null : <Fallback fallbackText="No help yet." />}
  </div>
</AppLayout>
